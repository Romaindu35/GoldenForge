--- a/net/minecraft/command/Commands.java
+++ b/net/minecraft/command/Commands.java
@@ -102,6 +_,7 @@
 import net.minecraft.util.text.event.HoverEvent;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
+import org.spigotmc.SpigotConfig;
 
 public class Commands {
    private static final Logger field_197061_a = LogManager.getLogger();
@@ -186,6 +_,7 @@
       if (p_i232148_1_.field_237219_d_) {
          PublishCommand.func_198581_a(this.field_197062_b);
       }
+      net.minecraftforge.event.ForgeEventFactory.onCommandRegister(this.field_197062_b, p_i232148_1_);
 
       this.field_197062_b.findAmbiguities((p_201302_1_, p_201302_2_, p_201302_3_, p_201302_4_) -> {
          field_197061_a.warn("Ambiguity between arguments {} and {} with inputs: {}", this.field_197062_b.getPath(p_201302_2_), this.field_197062_b.getPath(p_201302_3_), p_201302_4_);
@@ -205,7 +_,15 @@
 
       try {
          try {
-            return this.field_197062_b.execute(stringreader, p_197059_1_);
+            ParseResults<CommandSource> parse = this.field_197062_b.parse(stringreader, p_197059_1_);
+            net.minecraftforge.event.CommandEvent event = new net.minecraftforge.event.CommandEvent(parse);
+            if (net.minecraftforge.common.MinecraftForge.EVENT_BUS.post(event)) {
+               if (event.getException() != null) {
+                  com.google.common.base.Throwables.throwIfUnchecked(event.getException());
+               }
+               return 1;
+            }
+            return this.field_197062_b.execute(event.getParseResults());
          } catch (CommandException commandexception) {
             p_197059_1_.func_197021_a(commandexception.func_197003_a());
             return 0;
@@ -258,6 +_,7 @@
    }
 
    public void func_197051_a(ServerPlayerEntity p_197051_1_) {
+      if (SpigotConfig.tabComplete < 0) return; // Spigot
       Map<CommandNode<CommandSource>, CommandNode<ISuggestionProvider>> map = Maps.newHashMap();
       RootCommandNode<ISuggestionProvider> rootcommandnode = new RootCommandNode<>();
       map.put(this.field_197062_b.getRoot(), rootcommandnode);
@@ -267,6 +_,8 @@
 
    private void func_197052_a(CommandNode<CommandSource> p_197052_1_, CommandNode<ISuggestionProvider> p_197052_2_, CommandSource p_197052_3_, Map<CommandNode<CommandSource>, CommandNode<ISuggestionProvider>> p_197052_4_) {
       for(CommandNode<CommandSource> commandnode : p_197052_1_.getChildren()) {
+         if ( !org.spigotmc.SpigotConfig.sendNamespaced && commandnode.getName().contains( ":" ) ) continue; // Spigot
+
          if (commandnode.canUse(p_197052_3_)) {
             ArgumentBuilder<ISuggestionProvider, ?> argumentbuilder = (ArgumentBuilder) commandnode.createBuilder();
             argumentbuilder.requires((p_197060_0_) -> {
